# web\_content.c

{% tabs %}
{% tab title="C" %}
```c
/**
 * @file web_content.c
 * @brief Conte√∫do est√°tico da interface web
 * 
 * Este arquivo cont√©m o HTML, CSS e JavaScript da interface de controle.
 * A interface possui:
 * - Visualiza√ß√£o de temperatura e status em tempo real
 * - Controle para simular mudan√ßa de temperatura
 * - Bot√µes para girar e parar o motor
 */

#include "web_content.h"

/* ---------- CSS da aplica√ß√£o ---------- */

static const char STYLE_CSS[] =
"/* Reset e estilos base */\n"
"body {\n"
"    font-family: Arial, Helvetica, sans-serif;\n"
"    background: #f6faf4;\n"
"    color: #1b3b2b;\n"
"    margin: 0;\n"
"    padding: 0;\n"
"}\n"
"\n"
"/* Cabe√ßalho */\n"
"header {\n"
"    background: #13633f;\n"
"    color: #fff;\n"
"    padding: 20px;\n"
"    text-align: center;\n"
"    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n"
"}\n"
"\n"
"header h1 {\n"
"    margin: 0 0 10px 0;\n"
"    font-size: 1.8rem;\n"
"}\n"
"\n"
"/* Container principal */\n"
"main {\n"
"    max-width: 900px;\n"
"    margin: 30px auto;\n"
"    padding: 20px;\n"
"    background: #fff;\n"
"    border-radius: 8px;\n"
"    box-shadow: 0 6px 18px rgba(0,0,0,0.06);\n"
"}\n"
"\n"
"/* Grid de 2 colunas */\n"
".grid {\n"
"    display: grid;\n"
"    grid-template-columns: 1fr 1fr;\n"
"    gap: 12px;\n"
"    align-items: center;\n"
"    margin-bottom: 12px;\n"
"}\n"
"\n"
"/* Cart√µes de informa√ß√£o */\n"
".card {\n"
"    padding: 12px;\n"
"    border: 1px solid #e6efe6;\n"
"    border-radius: 6px;\n"
"    background: #fafffe;\n"
"}\n"
"\n"
".label {\n"
"    font-size: 0.9rem;\n"
"    color: #2b6b48;\n"
"    margin-bottom: 6px;\n"
"    font-weight: 600;\n"
"}\n"
"\n"
".value {\n"
"    font-size: 1.2rem;\n"
"    font-weight: 700;\n"
"    color: #1b3b2b;\n"
"}\n"
"\n"
"/* Formul√°rio de temperatura */\n"
"form {\n"
"    margin-top: 18px;\n"
"    display: flex;\n"
"    gap: 8px;\n"
"    align-items: center;\n"
"    flex-wrap: wrap;\n"
"}\n"
"\n"
"input[type=number] {\n"
"    padding: 10px;\n"
"    border-radius: 6px;\n"
"    border: 1px solid #cfe8d5;\n"
"    width: 120px;\n"
"    font-size: 1rem;\n"
"}\n"
"\n"
"/* Bot√µes */\n"
"button {\n"
"    background: #137a4f;\n"
"    color: #fff;\n"
"    padding: 10px 14px;\n"
"    border-radius: 8px;\n"
"    border: 0;\n"
"    cursor: pointer;\n"
"    font-size: 1rem;\n"
"    font-weight: 600;\n"
"    transition: background 0.2s;\n"
"}\n"
"\n"
"button:hover:not(:disabled) {\n"
"    background: #0f5f3d;\n"
"}\n"
"\n"
"button:disabled {\n"
"    opacity: 0.6;\n"
"    cursor: not-allowed;\n"
"}\n"
"\n"
".controls {\n"
"    margin-top: 18px;\n"
"    display: flex;\n"
"    gap: 8px;\n"
"    flex-wrap: wrap;\n"
"}\n"
"\n"
"/* Status */\n"
".status-normal {\n"
"    color: #0b6b2f;\n"
"}\n"
"\n"
".status-anormal {\n"
"    color: #b91c1c;\n"
"    font-weight: 700;\n"
"}\n"
"\n"
"/* Toast de notifica√ß√£o */\n"
"#toast {\n"
"    position: fixed;\n"
"    right: 20px;\n"
"    bottom: 20px;\n"
"    padding: 10px 14px;\n"
"    border-radius: 6px;\n"
"    display: none;\n"
"    color: white;\n"
"    font-weight: 600;\n"
"    box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n"
"    z-index: 1000;\n"
"}\n"
"\n"
"/* Responsividade */\n"
"@media (max-width: 600px) {\n"
"    .grid {\n"
"        grid-template-columns: 1fr;\n"
"    }\n"
"}\n";

/* ---------- JavaScript da aplica√ß√£o ---------- */

static const char SCRIPT_JS[] =
"/**\n"
" * Script de controle da interface web\n"
" * \n"
" * Funcionalidades:\n"
" * - Atualiza√ß√£o autom√°tica de status a cada 2 segundos\n"
" * - Envio de temperatura para o servidor\n"
" * - Comandos de rota√ß√£o e parada do motor\n"
" * - Notifica√ß√µes via toast\n"
" */\n"
"\n"
"// Exibe notifica√ß√£o toast\n"
"function showToast(msg, ok) {\n"
"    const t = document.getElementById('toast');\n"
"    t.textContent = msg;\n"
"    t.style.display = 'block';\n"
"    t.style.background = ok ? '#0b6b2f' : '#b91c1c';\n"
"    setTimeout(() => t.style.display = 'none', 2500);\n"
"}\n"
"\n"
"// Busca status do servidor\n"
"async function fetchStatus() {\n"
"    try {\n"
"        const r = await fetch('/api/status');\n"
"        if (!r.ok) throw new Error('Erro ao buscar status');\n"
"        \n"
"        const j = await r.json();\n"
"        \n"
"        // Atualiza temperatura\n"
"        document.getElementById('tempVal').textContent = j.temperature + '¬∞C';\n"
"        \n"
"        // Atualiza status\n"
"        const statusEl = document.getElementById('statusVal');\n"
"        statusEl.textContent = j.status;\n"
"        statusEl.className = (j.status == 'Normal' ? 'status-normal' : 'status-anormal');\n"
"        \n"
"        // Atualiza estado do motor\n"
"        document.getElementById('motorVal').textContent = \n"
"            j.motor_running ? 'Rodando' : 'Parado';\n"
"    } catch (e) {\n"
"        console.error('Erro ao buscar status:', e);\n"
"    }\n"
"}\n"
"\n"
"// Envia nova temperatura\n"
"async function sendTemperature() {\n"
"    const v = document.getElementById('tempInput').value;\n"
"    const body = 'temperature=' + encodeURIComponent(v);\n"
"    const btn = document.getElementById('btnSend');\n"
"    \n"
"    btn.disabled = true;\n"
"    \n"
"    try {\n"
"        const r = await fetch('/api/temperature', {\n"
"            method: 'POST',\n"
"            headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n"
"            body: body\n"
"        });\n"
"        \n"
"        if (r.ok) {\n"
"            showToast('‚úì Temperatura atualizada', true);\n"
"        } else {\n"
"            const t = await r.text();\n"
"            showToast('‚úó Erro: ' + t, false);\n"
"        }\n"
"        \n"
"        await fetchStatus();\n"
"    } catch (e) {\n"
"        showToast('‚úó Erro de conex√£o', false);\n"
"    } finally {\n"
"        btn.disabled = false;\n"
"    }\n"
"}\n"
"\n"
"// Inicia rota√ß√£o do motor\n"
"async function rotateMotor() {\n"
"    const btn = document.getElementById('btnRotate');\n"
"    btn.disabled = true;\n"
"    \n"
"    try {\n"
"        const r = await fetch('/api/rotate', {method: 'POST'});\n"
"        const txt = await r.text();\n"
"        \n"
"        if (r.ok) {\n"
"            showToast('‚úì ' + txt, true);\n"
"        } else {\n"
"            showToast('‚úó ' + txt, false);\n"
"        }\n"
"        \n"
"        await fetchStatus();\n"
"    } catch (e) {\n"
"        showToast('‚úó Erro de conex√£o', false);\n"
"    } finally {\n"
"        btn.disabled = false;\n"
"    }\n"
"}\n"
"\n"
"// Para o motor\n"
"async function stopMotor() {\n"
"    const btn = document.getElementById('btnStop');\n"
"    btn.disabled = true;\n"
"    \n"
"    try {\n"
"        const r = await fetch('/api/stop', {method: 'POST'});\n"
"        const txt = await r.text();\n"
"        \n"
"        if (r.ok) {\n"
"            showToast('‚úì ' + txt, true);\n"
"        } else {\n"
"            showToast('‚úó ' + txt, false);\n"
"        }\n"
"        \n"
"        await fetchStatus();\n"
"    } catch (e) {\n"
"        showToast('‚úó Erro de conex√£o', false);\n"
"    } finally {\n"
"        btn.disabled = false;\n"
"    }\n"
"}\n"
"\n"
"// Inicializa√ß√£o\n"
"window.onload = function() {\n"
"    fetchStatus();\n"
"    setInterval(fetchStatus, 2000);  // Atualiza a cada 2 segundos\n"
"};\n";

/* ---------- HTML da p√°gina principal ---------- */

static const char HOME_HTML[] =
"<!doctype html>\n"
"<html lang='pt-BR'>\n"
"<head>\n"
"    <meta charset='utf-8'>\n"
"    <meta name='viewport' content='width=device-width,initial-scale=1'>\n"
"    <title>Controle Motor BeagleBone Black</title>\n"
"    <link rel='stylesheet' href='/style.css'>\n"
"</head>\n"
"<body>\n"
"    <header>\n"
"        <h1>üîß Controle Motor ‚Äî BeagleBone Black</h1>\n"
"        <p style='margin:0;font-size:0.9rem;opacity:0.9'>Simula√ß√£o de Temperatura e Controle de Motor de Passo</p>\n"
"    </header>\n"
"    \n"
"    <main>\n"
"        <!-- Status em 2 colunas -->\n"
"        <div class='grid'>\n"
"            <div class='card'>\n"
"                <div class='label'>üå°Ô∏è Temperatura (simulada)</div>\n"
"                <div id='tempVal' class='value'>--¬∞C</div>\n"
"            </div>\n"
"            <div class='card'>\n"
"                <div class='label'>üìä Status do Sistema</div>\n"
"                <div id='statusVal' class='value'>--</div>\n"
"            </div>\n"
"        </div>\n"
"        \n"
"        <!-- Estado do motor -->\n"
"        <div class='card'>\n"
"            <div class='label'>‚öôÔ∏è Motor</div>\n"
"            <div id='motorVal' class='value'>--</div>\n"
"        </div>\n"
"        \n"
"        <!-- Formul√°rio de temperatura -->\n"
"        <form onsubmit='event.preventDefault();sendTemperature();'>\n"
"            <label class='label'>Definir temperatura (¬∞C):</label>\n"
"            <input id='tempInput' type='number' step='1' min='-50' max='200' value='25'>\n"
"            <button id='btnSend' type='button' onclick='sendTemperature()'>Enviar</button>\n"
"        </form>\n"
"        \n"
"        <!-- Controles do motor -->\n"
"        <div class='controls'>\n"
"            <button id='btnRotate' onclick='rotateMotor()'>‚ñ∂Ô∏è Girar Motor 90¬∞</button>\n"
"            <button id='btnStop' onclick='stopMotor()'>‚èπÔ∏è Parar Motor</button>\n"
"        </div>\n"
"    </main>\n"
"    \n"
"    <!-- Toast de notifica√ß√£o -->\n"
"    <div id='toast'></div>\n"
"    \n"
"    <script src='/script.js'></script>\n"
"</body>\n"
"</html>\n";

/* ---------- Fun√ß√µes de acesso ---------- */

const char* get_style_css(void) {
    return STYLE_CSS;
}

const char* get_script_js(void) {
    return SCRIPT_JS;
}

const char* get_home_html(void) {
    return HOME_HTML;
}

```
{% endtab %}
{% endtabs %}
